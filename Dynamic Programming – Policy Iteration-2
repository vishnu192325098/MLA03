import numpy as np

states=9
actions=4
V=np.zeros(states)
policy=np.zeros(states,dtype=int)
gamma=0.9

for _ in range(50):
    for s in range(states):
        V[s]=max([-1+gamma*V[min(states-1,max(0,s+a))]
                  for a in [-1,1,3,-3]])
    for s in range(states):
        policy[s]=np.argmax([-1+gamma*V[min(states-1,max(0,s+a))]
                              for a in [-1,1,3,-3]])

print("Value:",V)
print("Policy:",policy)
