import numpy as np
import random

states=16
actions=4
Q=np.zeros((states,actions))
alpha,gamma,epsilon=0.1,0.9,0.1

for _ in range(1000):
    s=0
    while s!=15:
        if random.random()<epsilon:
            a=random.randint(0,3)
        else:
            a=np.argmax(Q[s])
        s2=min(15,max(0,s+random.choice([-1,1,4,-4])))
        r=10 if s2==15 else -1
        Q[s,a]+=alpha*(r+gamma*np.max(Q[s2])-Q[s,a])
        s=s2

print(Q)
